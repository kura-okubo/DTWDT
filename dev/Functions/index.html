<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Functions · DTWDT.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.svg" alt="DTWDT.jl logo"/></a><h1>DTWDT.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li class="current"><a class="toctext" href>Functions</a><ul class="internal"><li><a class="toctext" href="#Main-function-1">Main function</a></li><li><a class="toctext" href="#Sub-functions-1">Sub functions</a></li></ul></li><li><a class="toctext" href="../Sampleresults/">Sample results</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Functions</a></li></ul><a class="edit-page" href="https://github.com/kura-okubo/DTWDT.jl/blob/master/docs/src/Functions.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Functions</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="DTWDT-Functions-1" href="#DTWDT-Functions-1">DTWDT Functions</a></h1><p>These are fundamental functions to calculate DTW distance distance array and DTW error between two time series.</p><h2><a class="nav-anchor" id="Main-function-1" href="#Main-function-1">Main function</a></h2><p><code>dtwdt</code> returns time shift, distance function and DTW error between two signals.</p><p>Example:</p><blockquote><p>stbarTime, stbar, dist, dtwerror = dtwdt(u0, u1, dt, dtwnorm=&quot;L2&quot;, maxLag=80, b=1, direction=1)</p></blockquote><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DTWDT.dtwdt" href="#DTWDT.dtwdt"><code>DTWDT.dtwdt</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">dtwdt(u0::Union{Array{Float32,1},Array{Float64,1}}, u1::Union{Array{Float32,1},Array{Float64,1}}, dt::Float64; dtwnorm::String=&quot;L2&quot;
    maxlag::Int64=80, b::Int64=1, direction::Int64=1)</code></pre><p>returns minimum distance time lag and index in dist array, and dtw error between traces.</p><p><strong>Arguments</strong></p><ul><li><code>u0, u1::Union{Array{Float32,1},Array{Float64,1}}</code>: Time series.</li><li><code>dt::Float64</code>: time step (dt of u0 and u1 should be same)</li><li><code>dtwnorm::String</code>: norm to calculate distance; effect on the unit of dtw error. (L2 or L1)</li><li>Note: L2 is not squard, thus distance is calculated as (u1[i]-u0[j])^2</li><li><code>maxlag::Int64</code>: number of maxLag id to search the distance.</li><li><code>b::Int64t</code>: b value to controll in distance calculation algorithm (see Mikesell et al. 2015).</li><li><code>direction::Int64</code>: length of noise data window, in seconds, to cross-correlate.</li></ul><p><strong>Outputs</strong></p><ul><li><code>stbarTime::Array{Float64,1}</code>: series of time shift at t.</li><li><code>stbar::Array{Int64,1}</code>: series of minimum distance index in distance array.</li><li><code>dist::Array{Int64,2}</code>: distance array.</li><li><code>dtwerror::Float64</code>: dtw error (distance) between two time series.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/kura-okubo/DTWDT.jl/blob/39e7879d2ffe3a7aaab997265bc35b90b3360e85/src/DTWDT.jl#L9-L30">source</a></section><h2><a class="nav-anchor" id="Sub-functions-1" href="#Sub-functions-1">Sub functions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DTWDT.DTWDTfunctions.computeErrorFunction" href="#DTWDT.DTWDTfunctions.computeErrorFunction"><code>DTWDT.DTWDTfunctions.computeErrorFunction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>USAGE: err = computeErrorFunction( u1, u0, nSample, lag )</p><p>INPUT:</p><p>u1      = trace that we want to warp; size = (nsamp,1)</p><p>u0      = reference trace to compare with: size = (nsamp,1)</p><p>nSample = numer of points to compare in the traces</p><p>lag     = maximum lag in sample number to search</p><p>norm    = &#39;L2&#39; or &#39;L1&#39; (default is &#39;L2&#39;)</p><p>OUTPUT:</p><pre><code class="language-none">err = the 2D error function; size = (nsamp,2*lag+1)</code></pre><p>The error function is equation 1 in Hale, 2013.</p><p>You could umcomment the L1 norm and comment the L2 norm if you want on Line 29</p><p>Original by Di Yang  Last modified by Dylan Mikesell (25 Feb. 2015)</p></div></div><a class="source-link" target="_blank" href="https://github.com/kura-okubo/DTWDT.jl/blob/39e7879d2ffe3a7aaab997265bc35b90b3360e85/src/functions.jl#L4-L29">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DTWDT.DTWDTfunctions.accumulateErrorFunction" href="#DTWDT.DTWDTfunctions.accumulateErrorFunction"><code>DTWDT.DTWDTfunctions.accumulateErrorFunction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>USAGE: d = accumulation<em>diw</em>mod( dir, err, nSample, lag, b )</p><p>INPUT:</p><p>dir = accumulation direction ( dir &gt; 0 = forward in time, dir &lt;= 0 = backward in time)</p><p>err = the 2D error function; size = (nsamp,2*lag+1)</p><p>nSample = numer of points to compare in the traces</p><p>lag = maximum lag in sample number to search</p><p>b = strain limit (integer value &gt;= 1)</p><p>OUTPUT:</p><pre><code class="language-none">d = the 2D distance function; size = (nsamp,2*lag+1)</code></pre><p>The function is equation 6 in Hale, 2013.</p><p>Original by Di Yang Last modified by Dylan Mikesell (25 Feb. 2015)</p></div></div><a class="source-link" target="_blank" href="https://github.com/kura-okubo/DTWDT.jl/blob/39e7879d2ffe3a7aaab997265bc35b90b3360e85/src/functions.jl#L97-L120">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DTWDT.DTWDTfunctions.backtrackDistanceFunction" href="#DTWDT.DTWDTfunctions.backtrackDistanceFunction"><code>DTWDT.DTWDTfunctions.backtrackDistanceFunction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>USAGE: stbar = backtrackDistanceFunction( dir, d, err, lmin, b )</p><p>INPUT:</p><p>dir   = side to start minimization ( dir &gt; 0 = front, dir &lt;= 0 =  back)</p><p>d     = the 2D distance function; size = (nsamp,2*lag+1)</p><p>err   = the 2D error function; size = (nsamp,2*lag+1)</p><p>lmin  = minimum lag to search over</p><p>b     = strain limit (integer value &gt;= 1)</p><p>OUTPUT:</p><p>stbar = vector of integer shifts subject to |u(i)-u(i-1)| &lt;= 1/b</p><p>The function is equation 2 in Hale, 2013.</p><p>Original by Di Yang Last modified by Dylan Mikesell (19 Dec. 2014)</p></div></div><a class="source-link" target="_blank" href="https://github.com/kura-okubo/DTWDT.jl/blob/39e7879d2ffe3a7aaab997265bc35b90b3360e85/src/functions.jl#L192-L216">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DTWDT.DTWDTfunctions.computeDTWerror" href="#DTWDT.DTWDTfunctions.computeDTWerror"><code>DTWDT.DTWDTfunctions.computeDTWerror</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Compute the accumulated error along the warping path for Dynamic  Time Warping.</p><p>USAGE: function error = computeDTWerror( Aerr, u, lag0 )</p><p>INPUT:</p><p>Aerr = error MATRIX (equation 13 in Hale, 2013)</p><p>u    = warping function (samples) VECTOR</p><p>lag0 = value of maximum lag (samples) SCALAR</p><p>Written by Dylan Mikesell Last modified: 25 February 2015</p></div></div><a class="source-link" target="_blank" href="https://github.com/kura-okubo/DTWDT.jl/blob/39e7879d2ffe3a7aaab997265bc35b90b3360e85/src/functions.jl#L386-L402">source</a></section><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../Sampleresults/"><span class="direction">Next</span><span class="title">Sample results</span></a></footer></article></body></html>
